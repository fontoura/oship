<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>Installation of the OSHIP framework and the demo-application</TITLE>
	<META NAME="AUTHOR" CONTENT="Timothy Cook">
	<META NAME="CHANGEDBY" CONTENT="Roger Erens">
    <STYLE TYPE="text/css">
            pre {background-color: pink;}
    </STYLE>
</HEAD>
<BODY> 
        <h1>Create Future Proof Healthcare Applications!</h1>
        <h6>(And if you have problems with this, use the <a href="mailto:ref_impl_python@openehr.org">mailing list</a> )</h6>
        In the following lines with instructions (in pink), the leading $ represents the tail of your
        system prompt. It may be necessary to prefix the commands with 'sudo' when you, using a non-administrator account,
        try to install into system-wide Python directories.

        <h2>Installing the OSHIP framework on GNU Linux</h2>

        <h3>Prerequisites</h3>
        <dl>
                <dt>Python2.5</dt>
                <dd>OSHIP requires at least Python 2.5; if it is not already installed
                on your system, you can download it from <a href="http://www.python.org/">http://www.python.org</a>.
                We also need Python header files. They can be obtained by something like:
                <pre>
$sudo apt-get install python-dev</pre>
                </dd>
                <dt>gcc</dt>
                <dd>On Ubuntu, this means installing the package build-essential:
                <pre>
$sudo apt-get install build-essential</pre>
                <dt>setuptools</dt>
                <dd>This package contains the easy_setup command, to make installing the next item real easy.
                <pre>
$wget http://peak.telecommunity.com/dist/ez_setup.py
$python ez_setup.py</pre>
                </dd>
                <dt>virtualenv</dt>
                <dd>In order to prevent your OSHIP project interfering with your other never-ending projects,
                we advice you to work in separate environments. Virtualenv can be used to create isolated
                environments.</br>
                <pre>
$easy_install virtualenv</pre>
                </dd>
                <dt>subversion</dt>
                <dd>We currently use subversion (svn) as a version control system in our project. You can probably
                install it by means of something like
                <pre>
$sudo apt-get install subversion</pre>
                </dd>
        </dl>

        <h3>Installation steps</h3>
        <ol>
                <li>Let's prepare for the use of buildout; we use it now, and in the future. Buildout makes the process of 
                creating projects repeatable. For example, it can pinpoint the versions of the software
                components used in the project. In order to be able to repeat the building of a specific project 
                in the distant future, it is vital to have a local copy of the used components. We tuck them away
                in the hidden directory <b>.buildout</b> (note the leading dot):
                <pre>
$mkdir ~/.buildout
$cd ~/.buildout</pre>
                Now use your favorite text editor to create the file <b>default.cfg</b> containing the following:
                <pre>
[buildout]
eggs-directory = /home/&lt;username&gt;/.buildout/eggs
download-directory = /home/&lt;username&gt;/.buildout/downloads</pre>
                Of course you substitute &lt;username &gt; with your own username.
                </li>
                <li>
                Now create the isolated OSHIP environment and activate it:
                <pre>
$virtualenv ~/oshipenv
$cd ~/oshipenv
$source bin/activate</pre>
                Check that your system prompt is now prefixed with <b>(oshipenv)</b>
                e.g.<pre>
(oshipenv)&lt;username&gt;@&lt;machinename&gt;:~/oshipenv$</pre>
                </li>
                <li>Now install the buildout-machinery.
                <pre>
$easy_install zc.buildout</pre>
                </li>
                <li>We provide you with a buildout recipe in the file <b>buildout.cfg</b>. Get it, and our other source
                files, from <a href="http://www.openehr.org/svn/ref_impl_python/TRUNK/oship">our subversion server</a>:
                <pre>
svn co http://www.openehr.org/svn/ref_impl_python/TRUNK/oship oship</pre>
                </li>
                <li>
                Now it's time for a chat at the coffee machine. Meanwhile, let buildout create your project:
                <pre>
$cd oship
$buildout</pre>
                All of the required Python eggs will be downloaded and installed. You might consider reading the next
                section of this document now.<br />
                <em>NOTE: In the past, we saw some errors during these downloads such as unknown
                protocols for svn and https but everything seemed to work okay and we
                haven't investigated the cause yet.</em>
                </li>
                <li>
                Now you have a working OSHIP installation. You can start the server with
                <pre>
$bin/oship-ctl fg</pre> or the equivalent
                <pre>
$bin/paster serve deploy.ini</pre>
Verify it is up by visiting <a href="http://localhost:8080/">http://localhost:8080</a> in your browser.
The login link is on the upper right side of the browser window. <em>login=admin password=abc123</em>
<img src="OSHIP_framework_index.png" />
<img src="OSHIP_framework_contents.png" />
                </li>
        </ol>

        <h2>Installing the demo-application in the OSHIP framework on GNU Linux</h2>
        <p>&lt;To be written&gt;</p>

        <h2>Installing the OSHIP framework on MS Windows XP</h2>
<P><B>This install guide was contributed by Alessandro Torrisi.&nbsp;
Please contact&nbsp; Alessandro on the mailing list with any
questions or corrections.<BR><TT>OShip Installation on Windows</TT><FONT COLOR="#ff0033">**NOTE:</FONT>
<FONT COLOR="#000000">OSHIP requires Python 2.5! If it isn't already
installed on your system you can download it from</FONT>
<A HREF="http://www.python.org/"><FONT COLOR="#000000">http://www.python.org</FONT><FONT COLOR="#000000"><SUP></A><A HREF="http://www.python.org/"><IMG SRC="http://www.openehr.org/wiki/images/icons/linkext7.gif" NAME="graphics7" ALIGN=ABSMIDDLE WIDTH=7 HEIGHT=7 BORDER=0></A><A HREF="http://www.python.org/"></SUP></FONT></A><BR>You
will need setuptools for Python2.5 as well.&nbsp; Get the ez_setup.py
script from PEAK
<A HREF="http://peak.telecommunity.com/DevCenter/EasyInstall#installing-easy-install&amp;nbsp">http://peak.telecommunity.com/DevCenter/EasyInstall#installing-easy-install&amp;nbsp<SUP></A><A HREF="http://peak.telecommunity.com/DevCenter/EasyInstall#installing-easy-install&amp;nbsp"><IMG SRC="http://www.openehr.org/wiki/images/icons/linkext7.gif" NAME="graphics8" ALIGN=ABSMIDDLE WIDTH=7 HEIGHT=7 BORDER=0></A><A HREF="http://peak.telecommunity.com/DevCenter/EasyInstall#installing-easy-install&amp;nbsp"></SUP></A>;</B></P>
<P><TT>2) You will need setuptools for Python2.4 as well.&nbsp; Get
the ez_setup.py</TT><BR>{{script from PEAK }}</P>
<P><A HREF="http://peak.telecommunity.com/DevCenter/EasyInstall#installing-easy-inst"><TT>http://peak.telecommunity.com/DevCenter/EasyInstall#installing-easy-inst</TT><TT><SUP></A><A HREF="http://peak.telecommunity.com/DevCenter/EasyInstall#installing-easy-inst"><IMG SRC="http://www.openehr.org/wiki/images/icons/linkext7.gif" NAME="graphics9" ALIGN=ABSMIDDLE WIDTH=7 HEIGHT=7 BORDER=0></A><A HREF="http://peak.telecommunity.com/DevCenter/EasyInstall#installing-easy-inst"></SUP></TT></A><BR><TT>all</TT></P>
<P><TT>save it to you c:\Python24\ folder</TT></P>
<P><TT>3) Execute ez_setup.py</TT></P>
<P>{{C:\Python24&gt;ez_setup.py }}</P>
<P><TT>4) Install the virual environment</TT></P>
<P><TT>C:\Python24&gt;Scripts\easy_install.exe virtualenv</TT></P>
<P><TT>5) Create a sandbox directory</TT></P>
<P><TT>c:\Python24&gt;mkdir c:\sandbox</TT></P>
<P><TT>6) Create the virtual environment</TT></P>
<P><TT>C:\Python24&gt;Scripts\virtualenv.exe c:\sandbox</TT><BR><TT>New
python executable in c:\sandbox\Scripts\python.exe</TT><BR><TT>Installing
setuptools...............done.</TT></P>
<P><TT>7) Activate the virtual environment</TT></P>
<P><TT>C:\Python24&gt;cd c:\sandbox</TT></P>
<P><TT>c:\sandbox&gt;Scripts\activate.bat</TT><BR>{{(sandbox)
c:\sandbox&gt; }}<BR><TT>As you can see, the prompt is a bit diffrent</TT></P>
<P><TT>8) Install zc.buildout</TT></P>
<P><TT>(sandbox) c:\sandbox&gt;Scripts\easy_install.exe zc.buildout</TT></P>
<P><TT>9) Verify the files</TT></P>
<P><TT>(sandbox) c:\sandbox&gt;dir Scripts</TT><BR><TT>&nbsp;Het
volume in station C heeft geen naam.</TT><BR><TT>&nbsp;Het
volumenummer is 1C09-E2E2</TT></P>
<P><TT>&nbsp;Map van c:\sandbox\Scripts</TT></P>
<P><TT>24-06-2008&nbsp; 20:46&nbsp;&nbsp;&nbsp; &lt;DIR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.</TT><BR><TT>24-06-2008&nbsp; 20:46&nbsp;&nbsp;&nbsp; &lt;DIR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
..</TT><BR><TT>24-06-2008&nbsp; 20:42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
385 activate.bat</TT><BR><TT>24-06-2008&nbsp; 20:46&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
295 buildout-script.py</TT><BR><TT>24-06-2008&nbsp; 20:46&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
6.656 buildout.exe</TT><BR><TT>24-06-2008&nbsp; 20:42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
204 deactivate.bat</TT><BR><TT>24-06-2008&nbsp; 20:42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
308 easy_install-2.4-script.py</TT><BR><TT>24-06-2008&nbsp;
20:42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
6.656 easy_install-2.4.exe</TT><BR><TT>24-06-2008&nbsp;
20:42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
300 easy_install-script.py</TT><BR><TT>24-06-2008&nbsp;
20:42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
6.656 easy_install.exe</TT><BR><TT>24-06-2008&nbsp; 20:42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
4.608 python.exe</TT><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
9 bestand(en)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
26.068 bytes</TT><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2 map(pen)&nbsp; 84.157.104.128 bytes beschikbaar</TT></P>
<P><TT>(sandbox) c:\sandbox&gt;</TT></P>
<P><TT>10) If you do not have SVN on your system then install
TortoiseSVN</TT></P>
<P><A HREF="http://tortoisesvn.net/downloads"><TT>http://tortoisesvn.net/downloads</TT><TT><SUP></A><A HREF="http://tortoisesvn.net/downloads"><IMG SRC="http://www.openehr.org/wiki/images/icons/linkext7.gif" NAME="graphics10" ALIGN=ABSMIDDLE WIDTH=7 HEIGHT=7 BORDER=0></A><A HREF="http://tortoisesvn.net/downloads"></SUP></TT></A></P>
<P><TT>11) Create oship folder</TT></P>
<P><TT>(sandbox) c:\sandbox&gt;mkdir oship</TT></P>
<P><TT>12) Checkout the source from svn:</TT></P>
<P><A HREF="http://www.openehr.org/svn/ref_impl_python/BRANCHES/stable/oship/"><TT>http://www.openehr.org/svn/ref_impl_python/BRANCHES/stable/oship/</TT><TT><SUP></A><A HREF="http://www.openehr.org/svn/ref_impl_python/BRANCHES/stable/oship/"><IMG SRC="http://www.openehr.org/wiki/images/icons/linkext7.gif" NAME="graphics11" ALIGN=ABSMIDDLE WIDTH=7 HEIGHT=7 BORDER=0></A><A HREF="http://www.openehr.org/svn/ref_impl_python/BRANCHES/stable/oship/"></SUP></TT></A></P>
<P><TT>into the folder c:\sanbox\oship</TT></P>
<P><TT>13) Now some stuff to make it work in my situation</TT></P>
<P><TT>13a) Download last release from
<A HREF="http://prdownloads.sourceforge.net/mingw">http://prdownloads.sourceforge.net/mingw</A></TT><A HREF="http://prdownloads.sourceforge.net/mingw"><TT><SUP></A><A HREF="http://prdownloads.sourceforge.net/mingw"><IMG SRC="http://www.openehr.org/wiki/images/icons/linkext7.gif" NAME="graphics12" ALIGN=ABSMIDDLE WIDTH=7 HEIGHT=7 BORDER=0></A><A HREF="http://prdownloads.sourceforge.net/mingw"></SUP></TT></A><BR><TT>(MinGW-5.1.3.exe)</TT></P>
<P><TT>Run the file to start the installation process</TT><BR><TT>Keep
all values at their defaults and select at least next
components:</TT><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o
MinGW base tools</TT><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o
g++ compiler</TT><BR>{{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o
MinGW Make }}<BR><TT>Add the C:\mingw\bin directory to the system
PATH</TT></P>
<P><TT>(sandbox) c:\sandbox\oship&gt;set path=%path%; c:\mingw\bin</TT></P>
<P><TT>13b) create a folder called libs in c:\sandbox</TT></P>
<P><TT>(sandbox) c:\sandbox&gt; mkdir libs</TT></P>
<P><TT>(sandbox) c:\sandbox&gt;cd libs</TT></P>
<P><TT>(sandbox)
c:\sandbox\libs&gt;c:\sandbox\libs&gt;copy</TT><BR><TT>c:\Python24\libs\libpython24.a</TT><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1 bestand(en) gekopieerd.</TT></P>
<P><TT>(sandbox) c:\sandbox\libs&gt;copy
c:\Python24\libs\python24.lib</TT><BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1 bestand(en) gekopieerd.</TT></P>
<P><TT>(sandbox) c:\sandbox\libs&gt;</TT></P>
<P><TT>14) Do the buildout.</TT></P>
<P><TT>(sandbox) c:\sandbox\libs&gt;cd c:\sandbox\oship</TT></P>
<P><TT>(sandbox) c:\sandbox\oship&gt;..\Scripts\buildout.exe.</TT></P>
<P><TT>now it is coffe time... this can take serveral minuts</TT></P>
<P><TT>15) Start the oship project</TT></P>
<P><TT>(test) c:\sandbox\oship&gt;bin\paster.exe serve deploy.ini</TT></P>
<P><TT>16) you should be able to start a browser and go
to</TT><BR><TT><A HREF="http://localhost:8080/">http://localhost:8080/</A></TT></P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
        <h2>Installing the demo-application in the OSHIP framework on GNU Linux</h2>
</BODY>
</HTML>
